
> mosaic-verification-scripts@1.0.0 verify
> tsx verify-layout.ts

ğŸš€ Starting Mosaic Layout Verification

Configuration:
  - App URL: http://localhost:4201
  - Test Images: /Volumes/1TB/Repos/sticker-nester-claude-1/test-images
  - Sheet Count: 5
  - Epsilon Tolerance: 0.001 inches

Found 10 test images

ğŸŒ Navigating to application...
âœ… Application loaded

ğŸ“¤ Uploading 10 test images...
âœ… Files uploaded, waiting for processing...
âœ… Image processing complete

âš™ï¸  Configuring production mode with 5 sheets...
âœ… Production mode configured

ğŸ¯ Starting nesting algorithm...
â³ Waiting for nesting to complete...
âœ… Nesting complete

ğŸ“Š Extracting placement data from Angular app...
Debug info: {
  hasAppRoot: true,
  hasNg: true,
  hasNgGetComponent: true,
  hasNgProbe: false,
  hasContext: false,
  contextType: 'number',
  contextIsArray: false
}
Component extraction result:
  Method: ng.getComponent
  Has sheets: true
  Sheets type: object
  Is array: true
  Sheets: 5, Stickers: 10
âœ… Extracted 5 sheets and 10 stickers

ğŸ“¸ Taking screenshots...
âœ… Screenshot saved as layout-debug-full.png

ğŸ” Analyzing placements for overlaps...

âœ… Sheet 0: No overlaps detected
âœ… Sheet 1: No overlaps detected
âœ… Sheet 2: No overlaps detected
âŒ Sheet 3: Found 1 overlap(s)

  Overlap Details:
    Placement 1: PetalerLogo FinalwithStroke.png_8
      Position: (6.188", 6.188")
      Size: 2.674" Ã— 3.000"
      Rotation: 0Â°
    Placement 2: PetalerLogo FinalwithStroke.png_9
      Position: (6.188", 8.924")
      Size: 2.674" Ã— 3.000"
      Rotation: 0Â°
    Overlap Area:
      X: 6.188" to 8.861"
      Y: 8.924" to 9.188"
      Width: 2.674"
      Height: 0.264"
âœ… Sheet 4: No overlaps detected

============================================================

ğŸ“‹ VERIFICATION SUMMARY
  Total Sheets: 5
  Total Placements: 75
  Total Overlaps: 1
  Epsilon Tolerance: 0.001 inches

âŒ MATH CHECK FAILED: 1 overlap(s) detected!
ğŸ“¸ Visual evidence: Check layout-debug-full.png

ğŸ”§ This indicates a BUG in the packing algorithm

============================================================

